{
  "facts": [{
    "@type": "type.googleapis.com/BatteryLevelChanged",
    "customContextDataKey": {
    },
    "id": "F-af99816f-10ce-42e1-8bac-fbedf59ce256"
  }],
  "actions": [{
    "@type": "type.googleapis.com/NoAction",
    "icon": "sticky-note-line",
    "customContextDataKey": {
    },
    "note": "ğŸ“å¤‡æ³¨ï¼š\nâœï¸æ—¥å¿—æ–‡ä»¶é»˜è®¤äº /sdcard/Android/ç”µæ± ç”µé‡.log ï¼Œå¯å‰å¾€â€œğŸ› ï¸é¢å‘ä½¿ç”¨è€…çš„ä¿®æ”¹â€ä»¥ä¿®æ”¹\n\nğŸ”âš æ­¤è„šæœ¬ç½®é¡¶æç¤ºçš„æ•æ„Ÿè¡Œä¸ºæé†’æ˜¯shellè¯»å–æ¸©åº¦ï¼Œç”µé‡ç­‰çš„catå‘½ä»¤å¯¼è‡´çš„ï¼Œå¹¶æ²¡æœ‰å…¶ä»–æ•æ„ŸåŠ¨ä½œ\n\nğŸ“–æ›´æ–°å†…å®¹ï¼šé¢å‘ç”¨æˆ·çš„å­—ç¬¦è‡ªå®šä¹‰ï¼ˆæ„Ÿè°¢@luye2580ï¼‰\n\nğŸ“ƒæœ‰äº›äººå¯¹å ç”¨å˜é‡è¿‡æ•ï¼Œæ‰€ä»¥å°†é™¤äº†æ—¶é—´æˆ³ä¹‹å¤–çš„å˜é‡ âŒâ€œå…¨ éƒ¨ åˆ  é™¤â€âŒ\n\nğŸŒˆæ„Ÿè°¢â€œæ² é›ªsonwâ€æä¾›çš„åŠŸç‡æ˜¾ç¤ºä»£ç ",
    "id": "A-410ce4d0-0616-45f1-8e2b-93b66da5572c"
  }, {
    "@type": "type.googleapis.com/NoAction",
    "icon": "file-warning-fill",
    "customContextDataKey": {
    },
    "note": "âš ï¸è¯·---æ³¨---æ„\n - è¯·æ‰‹åŠ¨åˆ›å»ºæ—¥å¿—ç›®å½•çš„æ–‡ä»¶å¤¹ğŸ“ï¼Œå¦åˆ™æ— æ³•æ­£å¸¸å†™å…¥æ—¥å¿—\n - æ—¥å¿—ç›®å½•æ–‡ä»¶å¤¹åœ¨â€œğŸ› ï¸é¢å‘ä½¿ç”¨è€…çš„ä¿®æ”¹â€å†…",
    "id": "A-93732982-fd38-4a0a-9d3b-b7e6fd730b7e"
  }, {
    "@type": "type.googleapis.com/IfThenElse",
    "If": [{
      "@type": "type.googleapis.com/True",
      "customContextDataKey": {
      },
      "id": "C-82b0773a-153f-44a2-aea8-3252634b68b1"
    }],
    "IfActions": [{
      "@type": "type.googleapis.com/ShellCommand",
      "command": "dc_Dl\u003d$(cat /sys/class/power_supply/battery/capacity)\nout\u003d$(echo \"scale\u003d1; ${dc_Dl}\" | bc)\necho $out",
      "singleShot": true,
      "customContextDataKey": {
        "keys": [{
          "first": "shellOut",
          "second": "dc_Dl"
        }]
      },
      "note": "ğŸ”‹è·å–ç”µæ± ç”µé‡",
      "id": "A-313734c3-d22f-4bbd-a50b-dd3f24397b0b"
    }, {
      "@type": "type.googleapis.com/IfThenElse",
      "If": [{
        "@type": "type.googleapis.com/True",
        "customContextDataKey": {
        },
        "id": "C-f20971fd-fb36-4c72-82f0-066f2b17b2b4"
      }],
      "IfActions": [{
        "@type": "type.googleapis.com/ShellCommand",
        "command": "dc_C\u003d$(cat /sys/devices/virtual/thermal/thermal_zone0/temp)\nout\u003d$(echo \"scale\u003d1; ${dc_C}/1000\" | bc)\necho $out",
        "singleShot": true,
        "customContextDataKey": {
          "keys": [{
            "first": "shellOut",
            "second": "dc_C"
          }]
        },
        "isDisabled": true,
        "note": "ğŸŒ¡ï¸è·å–æ¸©åº¦ï¼ˆä»…åœ¨ ä¸€åŠ  æµ‹è¯•æˆåŠŸ\n//éƒ¨åˆ†ç³»ç»Ÿæ¸©åº¦æ–‡ä»¶ä¸ä¸€ï¼Œè¯·è‡ªè¡Œæµ‹è¯•\n//æ­¤å€¼é»˜è®¤*10000",
        "id": "A-90683cb1-c6e7-4ad6-a4fa-1f04d7ab9816"
      }, {
        "@type": "type.googleapis.com/ShellCommand",
        "command": "dc_C\u003d$(cat /sys/class/power_supply/battery/temp)\nout\u003d$(echo \"scale\u003d1; ${dc_C}/10\" | bc)\necho $out",
        "singleShot": true,
        "customContextDataKey": {
          "keys": [{
            "first": "shellOut",
            "second": "dc_C"
          }]
        },
        "note": "ğŸŒ¡ï¸è·å–æ¸©åº¦ï¼ˆé€šç”¨\n//éƒ¨åˆ†ç³»ç»Ÿæ¸©åº¦æ–‡ä»¶ä¸ä¸€ï¼Œè¯·è‡ªè¡Œæµ‹è¯•\n//æ­¤å€¼é»˜è®¤*100",
        "id": "A-bbb13107-5569-4f29-b189-9c28bee503fa"
      }],
      "customContextDataKey": {
      },
      "note": "ğŸŒ¡ï¸è·å–æ¸©åº¦",
      "id": "A-36b98df9-aa85-4a99-8ba3-8c6bb2ac4775"
    }, {
      "@type": "type.googleapis.com/IfThenElse",
      "If": [{
        "@type": "type.googleapis.com/ChargeState",
        "requireIsCharge": true,
        "customContextDataKey": {
        },
        "id": "C-183e9fdc-a7d6-4b61-96de-8988abaedf60"
      }],
      "IfActions": [{
        "@type": "type.googleapis.com/ShellCommand",
        "command": "#å……ç”µåŠŸç‡\ndc_I\u003d$(cat /sys/class/power_supply/battery/voltage_now)\ndc_U\u003d$(cat /sys/class/power_supply/battery/current_now)\na\u003d-1\ndc_x\u003d$(echo \"scale\u003d2; ${a}*${dc_I}*${dc_U}/1000000000000\" | bc )\ndc_P\u003d$dc_x\necho $dc_P",
        "singleShot": true,
        "customContextDataKey": {
          "keys": [{
            "first": "shellOut",
            "second": "dc_P"
          }]
        },
        "note": "å……ç”µçŠ¶æ€\n - åŠŸç‡å˜é‡",
        "id": "A-f119068e-e07f-4a36-ada8-f3d7e16b079c"
      }],
      "ElseActions": [{
        "@type": "type.googleapis.com/ShellCommand",
        "command": "#æ”¾ç”µåŠŸç‡\ndc_I\u003d$(cat /sys/class/power_supply/battery/voltage_now)\ndc_U\u003d$(cat /sys/class/power_supply/battery/current_now)\ndc_x\u003d$(echo \"scale\u003d2; ${dc_I}*${dc_U}/1000000000000\" | bc )\ndc_P\u003d$dc_x\necho $dc_P",
        "singleShot": true,
        "customContextDataKey": {
          "keys": [{
            "first": "shellOut",
            "second": "dc_P"
          }]
        },
        "note": "æ”¾ç”µçŠ¶æ€\n - åŠŸç‡å˜é‡",
        "id": "A-e80a9561-e621-4956-998e-5b67a0cd5293"
      }],
      "customContextDataKey": {
      },
      "note": "ğŸ”‹å……ç”µåŠŸç‡",
      "id": "A-141f762d-6f40-4b77-a1e2-76408236fa5f"
    }, {
      "@type": "type.googleapis.com/IfThenElse",
      "If": [{
        "@type": "type.googleapis.com/True",
        "customContextDataKey": {
        },
        "id": "C-0d012920-32dd-43a5-8de9-90793844e3e5"
      }],
      "IfActions": [{
        "@type": "type.googleapis.com/ShellCommand",
        "command": "time_Y\u003d$(date +%Y)\ntime_m\u003d$(date +%m)\ntime_d\u003d$(date +%d)\ntime_time\u003d$(date +%H:%M:%S)\necho \"${time_Y}å¹´${time_m}æœˆ${time_d}æ—¥ ${time_time}\"",
        "singleShot": true,
        "customContextDataKey": {
          "keys": [{
            "first": "shellOut",
            "second": "Time"
          }]
        },
        "note": "â±ï¸ç°åœ¨æ—¶é—´",
        "id": "A-06869092-9c12-448e-9acc-815e435fd1bf"
      }, {
        "@type": "type.googleapis.com/ShellCommand",
        "command": "timer\u003d$(date +%s)\necho $timer\nunset timer",
        "singleShot": true,
        "customContextDataKey": {
          "keys": [{
            "first": "shellOut",
            "second": "dc_Timer"
          }]
        },
        "note": "â±ï¸è·å–æ—¶é—´æˆ³",
        "id": "A-7dd2ebb9-0688-4dcb-bb97-1738c3f7c5fd"
      }, {
        "@type": "type.googleapis.com/ShellCommand",
        "command": "##æ—¶é—´æˆ³è®¡ç®—\nold_timer\u003d\"globalVarOf$dc_Timer\"\ntimer\u003d\"{dc_Timer}\"\nusage_time\u003d$(echo \"${timer}-${old_timer}\" | bc)\ntimestamp\u003d\"${usage_time}\"\nminutes\u003d$((timestamp / 60))\nseconds\u003d$((timestamp % 60))\nformatted_time\u003d$(printf \"%02d:%02d\" $minutes $seconds)\necho \"$formatted_time\"\n#echo \"âˆ†Bugâˆ†\"",
        "singleShot": true,
        "customContextDataKey": {
          "keys": [{
            "first": "shellOut",
            "second": "Timestamp"
          }]
        },
        "note": "â±ï¸æ—¶é—´æˆ³è®¡ç®—",
        "id": "A-172055f5-fc18-4f5f-a7d7-9a7fd2a41f35"
      }, {
        "@type": "type.googleapis.com/WriteGlobalVar",
        "varName": "dc_Timer",
        "valueAsString": "{dc_Timer}",
        "customContextDataKey": {
        },
        "note": "â±ï¸å†™å…¥æ—¶é—´æˆ³å˜é‡",
        "id": "A-6872bc35-0362-467b-85b9-fb017b6019be"
      }],
      "customContextDataKey": {
      },
      "note": "â±ï¸æ—¶é—´æˆ³è®¡ç®— ä¸ å†™å…¥å…¨å±€å˜é‡",
      "id": "A-133be5c1-9d1f-486d-9765-dc1cac45b748"
    }],
    "customContextDataKey": {
    },
    "note": "ğŸ—ƒï¸è°ƒç”¨çš„å˜é‡",
    "id": "A-0160f7be-89d8-40cc-a50e-426f295254d6"
  }, {
    "@type": "type.googleapis.com/IfThenElse",
    "If": [{
      "@type": "type.googleapis.com/True",
      "customContextDataKey": {
      },
      "id": "C-936bba58-c47e-4f55-8fc9-0673056b5c46"
    }],
    "IfActions": [{
      "@type": "type.googleapis.com/IfThenElse",
      "If": [{
        "@type": "type.googleapis.com/True",
        "customContextDataKey": {
        },
        "id": "C-695d9d8c-0410-4852-8a1d-52ace3693be3"
      }],
      "IfActions": [{
        "@type": "type.googleapis.com/ShellCommand",
        "command": "echo \"/storage/emulated/0/Android/log/ç”µæ± æ—¥å¿—\"",
        "singleShot": true,
        "customContextDataKey": {
          "keys": [{
            "first": "shellOut",
            "second": "log_dir"
          }]
        },
        "note": "ğŸ“ƒå­˜å‚¨çš„è·¯å¾„",
        "id": "A-a8b65779-0997-4db9-a763-535934b2ebd2"
      }, {
        "@type": "type.googleapis.com/ShellCommand",
        "command": "echo \"ç”µæ± æ—¥å¿—.log\"",
        "singleShot": true,
        "customContextDataKey": {
          "keys": [{
            "first": "shellOut",
            "second": "log_name"
          }]
        },
        "note": "ğŸ“å†™å…¥æ–‡ä»¶çš„æ–‡ä»¶åç§°",
        "id": "A-d710c151-2538-4045-9968-ab3f12cc0821"
      }, {
        "@type": "type.googleapis.com/ShellCommand",
        "command": "echo \"\"",
        "singleShot": true,
        "customContextDataKey": {
          "keys": [{
            "first": "shellOut",
            "second": "old-log_dir"
          }]
        },
        "note": "ğŸ“†ğŸ“ƒå†å²æ—¥å¿—è·¯å¾„ï¼ˆåŸºäºå­˜å‚¨çš„è·¯å¾„ï¼‰\n - å…ˆå’•å’•å’•ï¼Œåé¢å†å¼„",
        "id": "A-4f714b9b-8a90-4339-9aad-9713c423244e"
      }, {
        "@type": "type.googleapis.com/ShellCommand",
        "command": "echo \"{Time}-å†å²æ—¥å¿—.log\"",
        "singleShot": true,
        "customContextDataKey": {
          "keys": [{
            "first": "shellOut",
            "second": "old-log_dir"
          }]
        },
        "note": "ğŸ“†ğŸ“å†å²æ—¥å¿—åç§°",
        "id": "A-b0c8bb20-1668-4850-b2ee-2280a997a3dd"
      }],
      "customContextDataKey": {
      },
      "note": "ğŸ“ƒæ–‡ä»¶è·¯å¾„ä¸åç§°",
      "id": "A-8e5c019f-77c3-4e4f-ae5a-e66c0d25b851"
    }, {
      "@type": "type.googleapis.com/IfThenElse",
      "If": [{
        "@type": "type.googleapis.com/ScreenIsOn",
        "customContextDataKey": {
        },
        "id": "C-0e977945-0799-4259-8d35-49234d7c40d2"
      }],
      "IfActions": [{
        "@type": "type.googleapis.com/ShellCommand",
        "command": "echo \"â˜€ï¸äº®å±\"",
        "singleShot": true,
        "customContextDataKey": {
          "keys": [{
            "first": "shellOut",
            "second": "Screen"
          }]
        },
        "id": "A-991c1796-fdaa-4f1a-b3c1-e2562a710312"
      }],
      "ElseActions": [{
        "@type": "type.googleapis.com/ShellCommand",
        "command": "echo \"ğŸŒ‘æ¯å±\"",
        "singleShot": true,
        "customContextDataKey": {
          "keys": [{
            "first": "shellOut",
            "second": "Screen"
          }]
        },
        "id": "A-ff6a9005-2ecd-4958-afe8-770eb5f3981f"
      }],
      "customContextDataKey": {
      },
      "note": "â˜€ï¸äº®å±åˆ¤å®šå†™å…¥çš„å­—ç¬¦\n - äº®å±\n - æ¯å±",
      "id": "A-1126e438-c9cc-418c-857b-b75358b89d8b"
    }, {
      "@type": "type.googleapis.com/IfThenElse",
      "If": [{
        "@type": "type.googleapis.com/ChargeState",
        "requireIsCharge": true,
        "customContextDataKey": {
        },
        "id": "C-81ce1150-81f7-4f26-970f-7179a6357a1a"
      }],
      "IfActions": [{
        "@type": "type.googleapis.com/ShellCommand",
        "command": "echo \"å……ç”µ â†—\"",
        "singleShot": true,
        "customContextDataKey": {
          "keys": [{
            "first": "shellOut",
            "second": "dc_Mode"
          }]
        },
        "id": "A-039880a9-6750-4229-840b-b8f1a9a7f318"
      }],
      "ElseActions": [{
        "@type": "type.googleapis.com/ShellCommand",
        "command": "echo \"æ”¾ç”µ â†˜\"",
        "singleShot": true,
        "customContextDataKey": {
          "keys": [{
            "first": "shellOut",
            "second": "dc_Mode"
          }]
        },
        "id": "A-8b3ffeea-c1bc-41af-b4a0-37cd4ed30ec2"
      }],
      "customContextDataKey": {
      },
      "note": "ğŸ”‹ç”µæ± çŠ¶æ€\n - å……ç”µ\n - æ”¾ç”µ",
      "id": "A-add9fd1b-0ec9-41b7-89fe-121824aae8cf"
    }],
    "customContextDataKey": {
    },
    "note": "    â•“â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ•–\n   â•‘                           â•‘\n  â•‘ ğŸ› ï¸é¢å‘ä½¿ç”¨è€…çš„ä¿®æ”¹ â•‘\n â•‘                           â•‘\nâ•™â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ•œ",
    "id": "A-9fce4b87-f55f-4500-899a-1869190071cd"
  }, {
    "@type": "type.googleapis.com/IfThenElse",
    "If": [{
      "@type": "type.googleapis.com/True",
      "customContextDataKey": {
      },
      "id": "C-b9eb27f1-4465-4455-9255-2b52b7554130"
    }],
    "IfActions": [{
      "@type": "type.googleapis.com/ShellCommand",
      "command": "#ğŸ“æ—¥å¿—æ–‡ä»¶è·¯å¾„\nlog\u003d\"{log_dir}/{log_name}\"\n\n#å†™å…¥æ—¥å¿—\nout\u003d\"[{Time}][{Timestamp}][{Screen}][{dc_Mode}]ç”µé‡:{dc_Dl} æ¸©åº¦:{dc_C}Â°C åŠŸç‡:{dc_P}W\"\necho -e \"${out}\" \u003e\u003e $log\necho $out",
      "singleShot": true,
      "customContextDataKey": {
        "keys": [{
          "first": "shellOut",
          "second": "dc_Outlog"
        }]
      },
      "note": "ğŸ“*å†™å…¥log",
      "id": "A-bc2664d3-7552-4867-bd16-a47e9b6b9a91"
    }],
    "customContextDataKey": {
    },
    "note": "ğŸ“å†™å…¥æ—¥å¿—\n - ï¼ˆåˆ«é—®ä¸ºå•¥è¦å¥—ä¸€å±‚ifï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ï¼‰",
    "id": "A-6dadd6ed-6ec2-4304-a561-ebb8fb210d8b"
  }, {
    "@type": "type.googleapis.com/ShowDanmu",
    "text": "ğŸ”‹dc_log:ğŸ“write\n\"{dc_Outlog}\" \u003e\u003e \"{log_dir}/{log_name}\"",
    "customContextDataKey": {
    },
    "isDisabled": true,
    "note": "ğŸª²debug",
    "id": "A-8f371373-2e12-4dfe-b6cd-a65a892ebb4c"
  }],
  "id": "rule-33dc6137-264f-448f-8a40-824c03030b31",
  "lastUpdateTime": "1697221441061",
  "createTime": "1694911923777",
  "author": {
    "name": "lanyi233"
  },
  "title": "ç”µé‡-æ¸©åº¦-åŠŸç‡è®°å½•",
  "description": "è®°å½•ç”µé‡ï¼Œæ¸©åº¦å’ŒåŠŸç‡è‡³æ—¥å¿—æ–‡ä»¶\n - (âš ï¸è¯· åŠ¡ å¿…âš ï¸ æ‹‰åˆ°ä¸‹é¢æŸ¥çœ‹ç•™è¨€ğŸ“ï¼‰",
  "isEnabled": true,
  "hook": {
    "actionsOnEnabled": [{
      "@type": "type.googleapis.com/CreateGlobalVar",
      "globalVar": {
        "name": "dc_Timer",
        "type": {
          "@type": "type.googleapis.com/StringVar"
        }
      },
      "customContextDataKey": {
      },
      "id": "A-8c075d97-20f6-49f2-b02e-c72c1fe5a0c6"
    }, {
      "@type": "type.googleapis.com/ShellCommand",
      "command": "timer\u003d$(date +%s)\necho $timer\nunset timer",
      "singleShot": true,
      "customContextDataKey": {
        "keys": [{
          "first": "shellOut",
          "second": "dc_Timer"
        }]
      },
      "note": "â±ï¸è·å–æ—¶é—´æˆ³",
      "id": "A-526acbca-56d5-46df-a6c8-91023576ce11"
    }, {
      "@type": "type.googleapis.com/WriteGlobalVar",
      "varName": "dc_Timer",
      "valueAsString": "{dc_Timer}",
      "customContextDataKey": {
      },
      "note": "â±ï¸å†™å…¥æ—¶é—´æˆ³å˜é‡",
      "id": "A-7332a2e1-5eb9-4c9a-9340-b214cd6648a7"
    }],
    "actionsOnDisabled": [{
      "@type": "type.googleapis.com/DeleteGlobalVar",
      "varName": "dc_Dl",
      "customContextDataKey": {
      },
      "id": "A-950105bb-b708-4f02-9977-73678a90e52f"
    }, {
      "@type": "type.googleapis.com/DeleteGlobalVar",
      "varName": "dc_C",
      "customContextDataKey": {
      },
      "id": "A-b491e0b0-2f06-4b2b-a68e-354c7d8a5dda"
    }, {
      "@type": "type.googleapis.com/DeleteGlobalVar",
      "varName": "dc_P",
      "customContextDataKey": {
      },
      "id": "A-e21545e3-c7d4-41ed-a064-65441f8aa8a2"
    }, {
      "@type": "type.googleapis.com/DeleteGlobalVar",
      "varName": "dc_Screen",
      "customContextDataKey": {
      },
      "id": "A-0d03eb57-4c40-4ce3-8f0b-d4d9faf610cf"
    }],
    "actionsOnDeleted": [{
      "@type": "type.googleapis.com/DeleteGlobalVar",
      "varName": "dc_Dl",
      "customContextDataKey": {
      },
      "id": "A-950105bb-b708-4f02-9977-73678a90e52f"
    }, {
      "@type": "type.googleapis.com/DeleteGlobalVar",
      "varName": "dc_C",
      "customContextDataKey": {
      },
      "id": "A-b491e0b0-2f06-4b2b-a68e-354c7d8a5dda"
    }, {
      "@type": "type.googleapis.com/DeleteGlobalVar",
      "varName": "dc_P",
      "customContextDataKey": {
      },
      "id": "A-e21545e3-c7d4-41ed-a064-65441f8aa8a2"
    }, {
      "@type": "type.googleapis.com/DeleteGlobalVar",
      "varName": "dc_Timer",
      "customContextDataKey": {
      },
      "id": "A-dec7ccb4-d760-4d52-8381-a8c109538d56"
    }, {
      "@type": "type.googleapis.com/DeleteGlobalVar",
      "varName": "dc_Screen",
      "customContextDataKey": {
      },
      "id": "A-0d03eb57-4c40-4ce3-8f0b-d4d9faf610cf"
    }]
  },
  "quit": {
  },
  "versionCode": "7",
  "ruleSetId": "RS-51b8f4dc-0eae-43e9-a7c8-9c42da0c4377"}
###------###
{"type":"rule"}
